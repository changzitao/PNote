策略注册模式
```
  
public interface TagValid<T> {  
    ValidDTO isPass(List<T> list);  
  
  
}
```

```
public class ValidContext {  
    private Map<Object, TagValid<?>> tagValidMap = new HashMap<>();  
  
    TagValid defaultValidImpl = new DefaultValidImpl();  
  
  
    public void addValid(Object key, TagValid<?> valid) {  
        tagValidMap.put(key, valid);  
    }  
  
    public <T> ValidDTO validate(List<T> list) {  
        Map<TagValid, List<T>> groupByValidator = list.stream().collect(Collectors.groupingBy(o -> tagValidMap.getOrDefault(o, defaultValidImpl)));  
        List<ValidDTO> validDTOS = groupByValidator.entrySet().stream().map(entry -> entry.getKey().isPass(entry.getValue())).collect(Collectors.toList());  
        return mergeValidDTO(validDTOS);  
    }  
  
    // 根据class的某个字段值进行 获取valid  对此相同值会影响到到map  
    public <T> ValidDTO validByFiled(List<T> list, Class<T> clazz, String filedName) throws NoSuchFieldException {  
        Field field = clazz.getDeclaredField(filedName);  
        field.setAccessible(true);  
  
        Map<TagValid, List<T>> groupByValidator = list.stream().collect(Collectors.groupingBy(o -> {  
  
            try {  
                return tagValidMap.getOrDefault(field.get(o), defaultValidImpl);  
            } catch (IllegalAccessException e) {  
                throw new RuntimeException(e);  
            }  
  
        }));  
        List<ValidDTO> validDTOS = groupByValidator.entrySet().stream().map(entry -> entry.getKey().isPass(entry.getValue())).collect(Collectors.toList());  
        return mergeValidDTO(validDTOS);  
    }  
  
    public ValidDTO mergeValidDTO(List<ValidDTO> validDTOS) {  
        if (CollectionUtils.isEmpty(validDTOS)) {  
            return new ValidDTO();  
        }  
        ValidDTO validDTO = new ValidDTO();  
        boolean isPass = true;  
        for (ValidDTO v : validDTOS) {  
            isPass = isPass && v.isPass();  
            validDTO.merge(v);  
        }  
        validDTO.setPass(isPass);  
        return validDTO;  
    }  
}
```
使用 context，在某个类的初始化时将 vaild进行注册。